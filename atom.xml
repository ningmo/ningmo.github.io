<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>追寻一颗宁静的心</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://ningmo.github.io/"/>
  <updated>2019-08-27T10:02:00.636Z</updated>
  <id>http://ningmo.github.io/</id>
  
  <author>
    <name>ningmo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>git changelog</title>
    <link href="http://ningmo.github.io/2019/08/26/git-changelog/"/>
    <id>http://ningmo.github.io/2019/08/26/git-changelog/</id>
    <published>2019-08-26T06:15:44.000Z</published>
    <updated>2019-08-27T10:02:00.636Z</updated>
    
    <content type="html"><![CDATA[<p>软件环境安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install commitizen -g # 也可在项目根目录本地安装 --save-dev</span><br><span class="line">npm install -g conventional-changelog-cli # 也可在项目根目录本地安装 --save-dev</span><br></pre></td></tr></table></figure><p>配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">commitizen init cz-conventional-changelog --save-dev --save-exact</span><br></pre></td></tr></table></figure><p>如果出现报错(极大可能是node版本问题 可以切换node版本)<br>指定适配器</p><p>vim .czrc</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;path&quot;: &quot;cz-conventional-changelog&quot;&#125;</span><br></pre></td></tr></table></figure><p>指定生成标准angular可选 angular/atom/…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">conventional-changelog -p angular -i CHANGELOG.md -s</span><br><span class="line"></span><br><span class="line">git add .</span><br><span class="line">git cz</span><br></pre></td></tr></table></figure><p>释义</p><ul><li>feat 新功能</li><li>fix Bug修复</li><li>docs 文档更新</li><li>style 代码的格式，标点符号的更新</li><li>refactor 代码重构</li><li>perf 性能优化</li><li>test 测试更新</li><li>build 构建系统或者包依赖更新</li><li>ci CI 配置，脚本文件等更新</li><li>chore 非 src 或者 测试文件的更新</li><li>revert commit 回退</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;软件环境安装&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;
      
    
    </summary>
    
      <category term="index" scheme="http://ningmo.github.io/categories/index/"/>
    
    
      <category term="git" scheme="http://ningmo.github.io/tags/git/"/>
    
      <category term="changelog" scheme="http://ningmo.github.io/tags/changelog/"/>
    
  </entry>
  
  <entry>
    <title>search template</title>
    <link href="http://ningmo.github.io/2019/08/25/elk/search%20template/"/>
    <id>http://ningmo.github.io/2019/08/25/elk/search template/</id>
    <published>2019-08-25T13:33:35.000Z</published>
    <updated>2019-08-27T03:31:47.022Z</updated>
    
    <content type="html"><![CDATA[<p>创建搜索模板</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">POST _scripts/.kibana_1</span><br><span class="line">&#123;</span><br><span class="line">  &quot;script&quot;:&#123;</span><br><span class="line">    &quot;lang&quot;: &quot;mustache&quot;,</span><br><span class="line">    &quot;source&quot;:&#123;</span><br><span class="line">      &quot;_source&quot;:[&quot;name&quot;,&quot;description&quot;,&quot;color&quot;],</span><br><span class="line">      &quot;size&quot;:20,</span><br><span class="line">      &quot;query&quot;:&#123;</span><br><span class="line">        &quot;multi_match&quot;: &#123;</span><br><span class="line">          &quot;query&quot;: &quot;&#123;&#123;q&#125;&#125;&quot;,</span><br><span class="line">          &quot;fields&quot;: [&quot;name&quot;,&quot;description&quot;]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 查看</span><br><span class="line">GET _scripts/.kibana_1</span><br><span class="line"># 查看删除模板</span><br><span class="line">DELETE _scripts/.kibana_1</span><br></pre></td></tr></table></figure><p>使用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">POST searchTplA/_search/template</span><br><span class="line">&#123;</span><br><span class="line">  &quot;id&quot;:&quot;.kibana_1&quot;,</span><br><span class="line">  &quot;params&quot;: &#123;</span><br><span class="line">    &quot;search&quot;:&quot;a&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;创建搜索模板&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;
      
    
    </summary>
    
    
      <category term="elasticsearch" scheme="http://ningmo.github.io/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>search suggest</title>
    <link href="http://ningmo.github.io/2019/08/25/elk/search%20suggest/"/>
    <id>http://ningmo.github.io/2019/08/25/elk/search suggest/</id>
    <published>2019-08-25T13:33:35.000Z</published>
    <updated>2019-08-27T03:31:47.022Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-term-suggest-常用于拼写错误"><a href="#1-term-suggest-常用于拼写错误" class="headerlink" title="1. term suggest 常用于拼写错误"></a>1. term suggest 常用于拼写错误</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">POST /kibana_sample_data_logs/_search</span><br><span class="line">&#123;</span><br><span class="line">  &quot;suggest&quot;:&#123;</span><br><span class="line">    &quot;term-suggestion&quot;:&#123;</span><br><span class="line">      &quot;text&quot;:&quot;elastia&quot;,</span><br><span class="line">      &quot;term&quot;:&#123;</span><br><span class="line">        &quot;suggest_mode&quot;:&quot;popular&quot;,</span><br><span class="line">        &quot;field&quot;:&quot;url&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>result:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"took"</span> : <span class="number">65</span>,</span><br><span class="line">  <span class="attr">"timed_out"</span> : <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"_shards"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"successful"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"skipped"</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"hits"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : &#123;</span><br><span class="line">      <span class="attr">"value"</span> : <span class="number">0</span>,</span><br><span class="line">      <span class="attr">"relation"</span> : <span class="string">"eq"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"max_score"</span> : <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"hits"</span> : [ ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"suggest"</span> : &#123;</span><br><span class="line">    <span class="attr">"term-suggestion"</span> : [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"text"</span> : <span class="string">"elastia"</span>,</span><br><span class="line">        <span class="attr">"offset"</span> : <span class="number">0</span>,</span><br><span class="line">        <span class="attr">"length"</span> : <span class="number">7</span>,</span><br><span class="line">        <span class="attr">"options"</span> : [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"text"</span> : <span class="string">"elastic"</span>,</span><br><span class="line">            <span class="attr">"score"</span> : <span class="number">0.85714287</span>,</span><br><span class="line">            <span class="attr">"freq"</span> : <span class="number">2724</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>suggest_mode</p><ul><li>missing 如索引中已存在,就不提供建议</li><li>popular 推荐出现频率更高的词</li><li>always 无论是否存在 都提供建议 </li></ul><h3 id="2-phrase-suggest"><a href="#2-phrase-suggest" class="headerlink" title="2. phrase suggest"></a>2. phrase suggest</h3><h3 id="3-completion-suggest-自动不全"><a href="#3-completion-suggest-自动不全" class="headerlink" title="3.completion suggest 自动不全"></a>3.completion suggest 自动不全</h3><p>需要先定义mapping 字段设置type为 completion</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">PUT completion_index_a</span><br><span class="line">&#123;</span><br><span class="line">  &quot;mappings&quot;: &#123;</span><br><span class="line">    &quot;properties&quot;: &#123;</span><br><span class="line">      &quot;yourfield&quot;:&#123;</span><br><span class="line">        &quot;type&quot;: &quot;completion&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>result</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"acknowledged"</span> : <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"shards_acknowledged"</span> : <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"index"</span> : <span class="string">"completion_index_a"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">POST /completion_index_a/_search</span><br><span class="line">&#123;</span><br><span class="line">  &quot;suggest&quot;:&#123;</span><br><span class="line">    &quot;comp-suggestion&quot;:&#123;</span><br><span class="line">      &quot;prefix&quot;:&quot;n&quot;,</span><br><span class="line">      &quot;completion&quot;:&#123;</span><br><span class="line">        &quot;field&quot;:&quot;yourfield&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-context-suggest-上下文建议"><a href="#4-context-suggest-上下文建议" class="headerlink" title="4..context suggest 上下文建议"></a>4..context suggest 上下文建议</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;1-term-suggest-常用于拼写错误&quot;&gt;&lt;a href=&quot;#1-term-suggest-常用于拼写错误&quot; class=&quot;headerlink&quot; title=&quot;1. term suggest 常用于拼写错误&quot;&gt;&lt;/a&gt;1. term suggest 常用于
      
    
    </summary>
    
    
      <category term="elasticsearch" scheme="http://ningmo.github.io/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>kong 使用</title>
    <link href="http://ningmo.github.io/2018/04/04/devops/kong-user/"/>
    <id>http://ningmo.github.io/2018/04/04/devops/kong-user/</id>
    <published>2018-04-04T13:20:08.000Z</published>
    <updated>2019-08-06T05:23:30.549Z</updated>
    
    <content type="html"><![CDATA[<p>kong 总体流程<br>创建接口-给接口添加验证插件-创建用户-给用户创建key</p><p>给接口添加验证插件<br>curl -X POST <a href="http://10.10.107.103:8001/apis/qzh/plugins" target="_blank" rel="noopener">http://10.10.107.103:8001/apis/qzh/plugins</a> -d “name=key-auth”<br>{“api_id”:”1b545af7-42ff-4143-8c70-5a4c323d1a41”,”id”:”8e104fce-5ceb-4a38-b6bf-f8fcfb8ad048”,”created_at”:1522828616000,”enabled”:true,”name”:”key-auth”,”config”:{“hide_credentials”:false,”anonymous”:””,”key_names”:[“apikey”],”key_in_body”:false}}</p><p>给用户创建key<br>curl -X POST <a href="http://10.10.107.103:8001/consumers/qzhuser/key-auth" target="_blank" rel="noopener">http://10.10.107.103:8001/consumers/qzhuser/key-auth</a> -d “key=qzhkey”<br>{“created_at”:1522828821000,”consumer_id”:”f2531e2f-c6ba-4f97-94e4-a9454b70bb95”,”key”:”qzhkey”,”id”:”33fc0bff-7f23-43bc-bf60-e6114f0b04ab”}</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;kong 总体流程&lt;br&gt;创建接口-给接口添加验证插件-创建用户-给用户创建key&lt;/p&gt;
&lt;p&gt;给接口添加验证插件&lt;br&gt;curl -X POST &lt;a href=&quot;http://10.10.107.103:8001/apis/qzh/plugins&quot; target=&quot;_
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Algorithms_select</title>
    <link href="http://ningmo.github.io/2016/11/16/Algorithms-select/"/>
    <id>http://ningmo.github.io/2016/11/16/Algorithms-select/</id>
    <published>2016-11-16T12:51:18.000Z</published>
    <updated>2019-08-06T05:23:30.537Z</updated>
    
    <content type="html"><![CDATA[<h5 id="算法练习：选择排序"><a href="#算法练习：选择排序" class="headerlink" title="算法练习：选择排序"></a>算法练习：选择排序</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">$arr = [];</span><br><span class="line">for($i=0;$i&lt;10;$i++)&#123;</span><br><span class="line">$arr[] = mt_rand(1,500);</span><br><span class="line">&#125;</span><br><span class="line">$arr2 = $arr;</span><br><span class="line">echo &apos;&lt;pre&gt;&lt;br/&gt;元数据:&apos;;</span><br><span class="line">print_r($arr);</span><br><span class="line">echo &apos;&lt;br/&gt;&apos;;</span><br><span class="line">$l = 0;</span><br><span class="line">$result = [];</span><br><span class="line"></span><br><span class="line"># asc</span><br><span class="line">for($i=0;$i&lt;count($arr);$i++)&#123;</span><br><span class="line">$min = $arr[$i];</span><br><span class="line">for($j=$i;$j&lt;count($arr)-1;$j++)&#123;</span><br><span class="line">if($min&gt;$arr[$j+1])&#123;</span><br><span class="line">$tmp = $arr[$j+1];</span><br><span class="line">$arr[$j+1] = $min;</span><br><span class="line">$min = $tmp;</span><br><span class="line">&#125;</span><br><span class="line">$l += 1;</span><br><span class="line">&#125;</span><br><span class="line">$result[$i] = $min;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">echo &apos;Asc Result:&lt;br/&gt;&apos;;</span><br><span class="line">print_r($result);</span><br><span class="line">echo &apos;length:&apos;.$l.&apos;&lt;br/&gt;&apos;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$l = 0;</span><br><span class="line"># desc</span><br><span class="line">$result2 = [];</span><br><span class="line">for($i=0;$i&lt;count($arr2);$i++)&#123;</span><br><span class="line">$max = $arr2[$i];</span><br><span class="line">for($j=$i;$j&lt;count($arr2)-1;$j++)&#123;</span><br><span class="line">if($max&lt;$arr2[$j+1])&#123;</span><br><span class="line">$tmp = $arr2[$j+1];</span><br><span class="line">$arr2[$j+1] = $max;</span><br><span class="line">$max = $tmp;</span><br><span class="line">&#125;</span><br><span class="line">$l += 1;</span><br><span class="line">&#125;</span><br><span class="line">$result2[count($arr2)-1-$i] = $max;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">echo &apos;Desc Result:&lt;br/&gt;&apos;;</span><br><span class="line">print_r($result2);</span><br><span class="line">echo &apos;length:&apos;.$l.&apos;&lt;br/&gt;&apos;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h5 id=&quot;算法练习：选择排序&quot;&gt;&lt;a href=&quot;#算法练习：选择排序&quot; class=&quot;headerlink&quot; title=&quot;算法练习：选择排序&quot;&gt;&lt;/a&gt;算法练习：选择排序&lt;/h5&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;t
      
    
    </summary>
    
      <category term="Algorithms" scheme="http://ningmo.github.io/categories/Algorithms/"/>
    
    
      <category term="算法" scheme="http://ningmo.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="Algorithms" scheme="http://ningmo.github.io/tags/Algorithms/"/>
    
      <category term="select" scheme="http://ningmo.github.io/tags/select/"/>
    
  </entry>
  
  <entry>
    <title>Algorithms_bubble</title>
    <link href="http://ningmo.github.io/2016/11/16/Algorithms-bubble/"/>
    <id>http://ningmo.github.io/2016/11/16/Algorithms-bubble/</id>
    <published>2016-11-16T11:36:21.000Z</published>
    <updated>2019-08-06T05:23:30.538Z</updated>
    
    <content type="html"><![CDATA[<h5 id="算法练习：冒泡排序"><a href="#算法练习：冒泡排序" class="headerlink" title="算法练习：冒泡排序"></a>算法练习：冒泡排序</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"># 排序算法</span><br><span class="line">$arr = [];</span><br><span class="line">for($i=0;$i&lt;10;$i++)&#123;</span><br><span class="line">$arr[] = mt_rand(1,500);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo &apos;&lt;pre&gt;&apos;;</span><br><span class="line">echo &apos;元数据&apos;;</span><br><span class="line">echo &apos;&lt;br/&gt;&apos;;</span><br><span class="line">print_r($arr);</span><br><span class="line">$result =  $arr;</span><br><span class="line">$result2 = $arr;</span><br><span class="line"># 冒泡 desc</span><br><span class="line">for($i=0;$i&lt;count($result)-1;$i++)&#123;</span><br><span class="line">for($j=0;$j&lt;count($result)-$i;$j++)&#123;</span><br><span class="line">if($result[$j] &lt; $result[$j+1])&#123;</span><br><span class="line">$tmp = $result[$j+1];</span><br><span class="line">$result[$j+1] = $result[$j];</span><br><span class="line">$result[$j] = $tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">echo &apos;&lt;br/&gt;&apos;;</span><br><span class="line">echo &apos;Desc result&apos;;</span><br><span class="line">echo &apos;&lt;br/&gt;&apos;;</span><br><span class="line">print_r($result);</span><br><span class="line">echo &apos;&lt;br/&gt;&apos;;</span><br><span class="line">var_dump($result == sort($arr));</span><br><span class="line"></span><br><span class="line">echo &apos;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&apos;;</span><br><span class="line">echo &apos;Asc result&lt;br/&gt;&apos;;</span><br><span class="line"></span><br><span class="line"># asc</span><br><span class="line">for($i=0;$i&lt;count($result2)-1;$i++)&#123;</span><br><span class="line">for($j=count($result2)-1;$j&gt;=0;$j--)&#123;</span><br><span class="line"></span><br><span class="line">if($result2[$j] &lt; $result2[$j-1])&#123;</span><br><span class="line">$tmp = $result2[$j-1];</span><br><span class="line">$result2[$j-1] = $result2[$j];</span><br><span class="line">$result2[$j] = $tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">echo &apos;&lt;br/&gt;&apos;;</span><br><span class="line">print_r($result2);</span><br><span class="line">var_dump($result2 == sort($arr));</span><br><span class="line"></span><br><span class="line"># 最佳时间复杂度 O(n)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h5 id=&quot;算法练习：冒泡排序&quot;&gt;&lt;a href=&quot;#算法练习：冒泡排序&quot; class=&quot;headerlink&quot; title=&quot;算法练习：冒泡排序&quot;&gt;&lt;/a&gt;算法练习：冒泡排序&lt;/h5&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;t
      
    
    </summary>
    
      <category term="Algorithms" scheme="http://ningmo.github.io/categories/Algorithms/"/>
    
    
      <category term="算法" scheme="http://ningmo.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="Algorithms" scheme="http://ningmo.github.io/tags/Algorithms/"/>
    
      <category term="bubble" scheme="http://ningmo.github.io/tags/bubble/"/>
    
  </entry>
  
  <entry>
    <title>修改docker源地址</title>
    <link href="http://ningmo.github.io/2016/11/10/devops/docker-registry/"/>
    <id>http://ningmo.github.io/2016/11/10/devops/docker-registry/</id>
    <published>2016-11-10T13:20:08.000Z</published>
    <updated>2019-08-06T05:23:30.539Z</updated>
    
    <content type="html"><![CDATA[<p>maxos 直接找到配置 在registry加入地址即可<br><a href="http://b72d1176.m.daocloud.io" target="_blank" rel="noopener">http://b72d1176.m.daocloud.io</a></p><p>其他系统 修改docker配置文件/etc/default/docker如</p><p>DOCKER_OPTS=”–registry-mirror=<a href="http://b72d1176.m.daocloud.io&quot;" target="_blank" rel="noopener">http://b72d1176.m.daocloud.io&quot;</a></p><p>b72d1176为个人帐号的生成</p><p>可以自己注册帐号后在加速器中找到自己的URL<br>感谢 <a href="https://www.daocloud.io" target="_blank" rel="noopener">daocloud</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;maxos 直接找到配置 在registry加入地址即可&lt;br&gt;&lt;a href=&quot;http://b72d1176.m.daocloud.io&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://b72d1176.m.daocloud.io&lt;/a&gt;&lt;
      
    
    </summary>
    
      <category term="Linux" scheme="http://ningmo.github.io/categories/Linux/"/>
    
    
      <category term="docker" scheme="http://ningmo.github.io/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>angularjs几种生成工具的尝试</title>
    <link href="http://ningmo.github.io/2016/11/05/js/angularjs-try/"/>
    <id>http://ningmo.github.io/2016/11/05/js/angularjs-try/</id>
    <published>2016-11-05T13:25:25.000Z</published>
    <updated>2019-08-06T05:23:30.552Z</updated>
    
    <content type="html"><![CDATA[<p>想法是弄个angularjs的常用结构出来 可以快速的各种项目开发<br>但是可怜对angular的了解有限 暂时找了几个开源的试试</p><h6 id="generator-angular"><a href="#generator-angular" class="headerlink" title="generator-angular"></a>generator-angular</h6><blockquote><p><a href="https://github.com/yeoman/generator-angular" target="_blank" rel="noopener">https://github.com/yeoman/generator-angular</a><br>安装过程中总出错 依赖有点多  最后竟然没成功</p></blockquote><h6 id="generator-angularjs"><a href="#generator-angularjs" class="headerlink" title="generator-angularjs"></a>generator-angularjs</h6><blockquote><p><a href="https://www.npmjs.com/package/generator-angularjs" target="_blank" rel="noopener">https://www.npmjs.com/package/generator-angularjs</a></p></blockquote><h6 id="generator-angular-nmi"><a href="#generator-angular-nmi" class="headerlink" title="generator-angular-nmi"></a>generator-angular-nmi</h6><blockquote><p><a href="https://www.npmjs.com/package/generator-angular-nmi" target="_blank" rel="noopener">https://www.npmjs.com/package/generator-angular-nmi</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;想法是弄个angularjs的常用结构出来 可以快速的各种项目开发&lt;br&gt;但是可怜对angular的了解有限 暂时找了几个开源的试试&lt;/p&gt;
&lt;h6 id=&quot;generator-angular&quot;&gt;&lt;a href=&quot;#generator-angular&quot; class=&quot;hea
      
    
    </summary>
    
      <category term="Js" scheme="http://ningmo.github.io/categories/Js/"/>
    
    
      <category term="angularjs" scheme="http://ningmo.github.io/tags/angularjs/"/>
    
      <category term="angular" scheme="http://ningmo.github.io/tags/angular/"/>
    
      <category term="generator" scheme="http://ningmo.github.io/tags/generator/"/>
    
  </entry>
  
  <entry>
    <title>docker常用命令操作</title>
    <link href="http://ningmo.github.io/2016/11/02/devops/docker-useful/"/>
    <id>http://ningmo.github.io/2016/11/02/devops/docker-useful/</id>
    <published>2016-11-02T13:31:10.000Z</published>
    <updated>2019-08-06T05:23:30.555Z</updated>
    
    <content type="html"><![CDATA[<h5 id="docker-常用命令"><a href="#docker-常用命令" class="headerlink" title="docker 常用命令"></a>docker 常用命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">## 拉取镜像</span><br><span class="line">docker pull openresty/openresty</span><br><span class="line">docker images</span><br><span class="line"></span><br><span class="line"># 创建容器</span><br><span class="line">docker run -it -m 100MB -h doc.nginx -d --name=&quot;nginx&quot; openresty/openresty </span><br><span class="line"># -c cpu优先级  －m 内存（M） －h 主机  --name 容器名字  镜像  ［/bin/bash 进入容器命令行］</span><br><span class="line"># -p  端口映射 主机端口:容器端口  -v 主机目录:容器目录</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">docker run -itd --name=&quot;cent&quot; -m 512M -p 8080:80 -p 9000:9000 -v /Users/moran/Documents/angular/:/data/angular centos</span><br><span class="line"></span><br><span class="line">＃ 常用操作</span><br><span class="line">docker inspect 容器名字 ＃ 查看容器的信息</span><br><span class="line">docker attach # 连接(进入)到一个正在运行的容器</span><br><span class="line">docker creeate # 创建但不运行</span><br><span class="line">docker run# 创建并运行</span><br><span class="line">docker top # 显示容器的进程信息</span><br><span class="line">docker cp # 从容器里向外拷贝文件或目录</span><br><span class="line">docker logs # 查看容器的日志 !! 可以看到其标准（错误）输出</span><br><span class="line">docker exec -it 容器名字 bash# 在容器中创建一个新的bash会话</span><br><span class="line"></span><br><span class="line">docker ps -[l|a]</span><br><span class="line">docker start|stop|restart|pause|unpause 容器名字/ID</span><br><span class="line">docker rm 容器</span><br><span class="line">docker rmi 镜像</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docker build # 使用Dockerfile创建镜像</span><br><span class="line">docker history # 显示生成一个镜像的历史命令</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">示例： 在官方centos7镜像上 安装一个node环境（虽然node也有镜像 但更喜欢自己装）</span><br><span class="line">docker pull centos</span><br><span class="line">docker run -itd --name=&quot;cent&quot; -m 512M -p 8080:80 -p 9000:9000 -v /Users/moran/Documents/angular/:/data/angular centos</span><br><span class="line">docker attach cent</span><br><span class="line"></span><br><span class="line">#  基础工具</span><br><span class="line">yum install wget vim gcc-c++ make -y</span><br><span class="line">yum install gem -y </span><br><span class="line">gem sources --add https://gems.ruby-china.org/ --remove https://rubygems.org/</span><br><span class="line">gem install compass</span><br><span class="line"></span><br><span class="line">#  install npm</span><br><span class="line">cd /tmp</span><br><span class="line">wget https://nodejs.org/dist/v6.9.1/node-v6.9.1.tar.gz</span><br><span class="line">tar zxvf node-v6.9.1.tar.gz </span><br><span class="line">cd node-v6.9.1</span><br><span class="line">./configure </span><br><span class="line">make</span><br><span class="line">make install </span><br><span class="line"></span><br><span class="line"># tools</span><br><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line">cnpm install -g grunt-cli </span><br><span class="line">cnpm install -g yo</span><br><span class="line">cnpm install -g bower</span><br><span class="line">cnpm install -g generator-karma</span><br><span class="line">cnpm install -g generator-angular</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 保存容器</span><br><span class="line">docker commit 版本ID 远程仓库</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h5 id=&quot;docker-常用命令&quot;&gt;&lt;a href=&quot;#docker-常用命令&quot; class=&quot;headerlink&quot; title=&quot;docker 常用命令&quot;&gt;&lt;/a&gt;docker 常用命令&lt;/h5&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;tabl
      
    
    </summary>
    
      <category term="Linux" scheme="http://ningmo.github.io/categories/Linux/"/>
    
    
      <category term="docker" scheme="http://ningmo.github.io/tags/docker/"/>
    
      <category term="run" scheme="http://ningmo.github.io/tags/run/"/>
    
  </entry>
  
  <entry>
    <title>mac-install-docker</title>
    <link href="http://ningmo.github.io/2016/11/01/mac-install-docker/"/>
    <id>http://ningmo.github.io/2016/11/01/mac-install-docker/</id>
    <published>2016-11-01T14:50:05.000Z</published>
    <updated>2019-08-27T03:30:42.036Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install wget</span><br><span class="line">wget https://download.docker.com/mac/stable/Docker.dmg # 下载并安装此文件</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;
      
    
    </summary>
    
      <category term="Linux" scheme="http://ningmo.github.io/categories/Linux/"/>
    
    
      <category term="mac" scheme="http://ningmo.github.io/tags/mac/"/>
    
      <category term="docker" scheme="http://ningmo.github.io/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>php截图裁剪 缩放图片</title>
    <link href="http://ningmo.github.io/2016/10/25/php/php_image_cut/"/>
    <id>http://ningmo.github.io/2016/10/25/php/php_image_cut/</id>
    <published>2016-10-25T12:49:04.000Z</published>
    <updated>2019-08-06T05:23:30.553Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">function image_resize($from, $tw,$th)&#123;</span><br><span class="line">        // 按指定大小生成缩略图，而且不变形，缩略图函数</span><br><span class="line">        $temp = array(1=&gt;&apos;gif&apos;, 2=&gt;&apos;jpeg&apos;, 3=&gt;&apos;png&apos;);</span><br><span class="line">        list($fw, $fh, $tmp) = getimagesize($from);</span><br><span class="line">        if(!$temp[$tmp])&#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        $tmp = $temp[$tmp];</span><br><span class="line">        $infunc = &quot;imagecreatefrom$tmp&quot;;</span><br><span class="line">        $outfunc = &quot;image$tmp&quot;;</span><br><span class="line">        $fimg = $infunc($from);</span><br><span class="line">        // 使缩略后的图片不变形，并且限制在 缩略图宽高范围内</span><br><span class="line">        if($fw/$tw &gt; $fh/$th)&#123;</span><br><span class="line">            $th = $tw*($fh/$fw);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            $tw = $th*($fw/$fh);</span><br><span class="line">        &#125;</span><br><span class="line">        $timg = imagecreatetruecolor($tw, $th);</span><br><span class="line">        imagecopyresampled($timg, $fimg, 0,0, 0,0, $tw,$th, $fw,$fh);</span><br><span class="line">        $to = C(&apos;UPLOAD_PATH&apos;).C(&apos;UPLOAD_SAVE_DIR_RULE&apos;).&apos;a_&apos;.time().&apos;_&apos;.mt_rand(100,999).&apos;.&apos;.end(explode(&apos;.&apos;,$from));</span><br><span class="line">        $r = $outfunc($timg, $to);</span><br><span class="line">        if($r)&#123;</span><br><span class="line">            unlink($from);</span><br><span class="line">            return $to;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    function cut_img($from,$zero=[0,0],$cutSize=[300,300])&#123;</span><br><span class="line">        $temp = array(1=&gt;&apos;gif&apos;, 2=&gt;&apos;jpeg&apos;, 3=&gt;&apos;png&apos;);</span><br><span class="line">        list($fw, $fh, $tmp) = getimagesize($from);</span><br><span class="line">        if(!$temp[$tmp])&#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        $tmp = $temp[$tmp];</span><br><span class="line">        $infunc = &quot;imagecreatefrom$tmp&quot;;</span><br><span class="line">        $outfunc = &quot;image$tmp&quot;;</span><br><span class="line">        $timg = $infunc($from);</span><br><span class="line">        $cutImg=imagecreatetruecolor($cutSize[0], $cutSize[1]);</span><br><span class="line">        # 将 $timg 图像中坐标从 src_x，src_y  开始，宽度为 src_w，高度为 src_h 的一部分拷贝到 dst_im 图像中坐标为 dst_x 和 dst_y 的位置上。</span><br><span class="line">        imagecopy($cutImg,$timg,0,0,$zero[0], $zero[1],$cutSize[0], $cutSize[1]);</span><br><span class="line">        $to = C(&apos;UPLOAD_PATH&apos;).C(&apos;UPLOAD_SAVE_DIR_RULE&apos;).&apos;a_&apos;.time().&apos;_&apos;.mt_rand(100,999).&apos;.&apos;.end(explode(&apos;.&apos;,$from));</span><br><span class="line">        $r = $outfunc($cutImg, $to);</span><br><span class="line">        if($r)&#123;</span><br><span class="line">            unlink($from);</span><br><span class="line">            return str_replace(&apos;../&apos;,&apos;/&apos;,$to);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
      <category term="Php" scheme="http://ningmo.github.io/categories/Php/"/>
    
    
      <category term="image" scheme="http://ningmo.github.io/tags/image/"/>
    
      <category term="php" scheme="http://ningmo.github.io/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>linux-find-grep</title>
    <link href="http://ningmo.github.io/2016/10/25/linux/linux-find-grep/"/>
    <id>http://ningmo.github.io/2016/10/25/linux/linux-find-grep/</id>
    <published>2016-10-25T12:49:04.000Z</published>
    <updated>2019-08-06T05:23:30.556Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">在当前目录下所有文件中查找内容包含 string 的文件:</span><br><span class="line">find ./ -name &quot;*&quot; -exec grep &quot;string&quot; &#123;&#125; \; </span><br><span class="line">注意:在最后不能加 print,否则会出错</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">在当前目录下所有文件中查找内容包含 string 的文件并列出字符所在的文件:</span><br><span class="line">find ./ -name &quot;*&quot; -exec grep -l &quot;string&quot; &#123;&#125; \; </span><br><span class="line"> </span><br><span class="line">在当前目录下 *.c 中查找内容包含 string 的文件并列出字符所在的文件的所在行(不显示文件名):</span><br><span class="line">find ./ -name &quot;*.c&quot; -exec grep -n &quot;string&quot; &#123;&#125; \; </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">在当前目录下所有文件中查找内容包含 string 的文件并列出字符所在的文件,所在行及所在行的内容:</span><br><span class="line">find ./ -name &quot;*&quot; -exec grep -n &quot;string&quot; ./ &#123;&#125; \; </span><br><span class="line"> </span><br><span class="line">使用 find 查找时希望忽略某个目录(-prune)：</span><br><span class="line">如果希望在 /app 目录下查找文件， 但不希望在 /app/bin 目录下查找：</span><br><span class="line">find /app -name &quot;/app/bin&quot; -prune -o -print </span><br><span class="line"></span><br><span class="line">使用type 选项:</span><br><span class="line">如果要在 /etc 目录下查找所有的目录：</span><br><span class="line">find /etc -type d -print</span><br><span class="line"></span><br><span class="line">如果要在 /etc 目录下查找 .svn 的目录：</span><br><span class="line">find /etc -name .svn -type d -print </span><br><span class="line"></span><br><span class="line">为了在当前目录下查找除目录以外的所有类型的文件：</span><br><span class="line">find . ! -type d -print</span><br><span class="line"> </span><br><span class="line">为了在当前目录下查找所有的符号链接文件， 可以用：</span><br><span class="line">find . -type l -print</span><br><span class="line">find .  -mtime -4（4天内）/4(4天前的那一天)/+4（5天前）</span><br><span class="line">find .</span><br><span class="line">         -name  *</span><br><span class="line">         -size   +50k</span><br><span class="line">         -type    f/b/c/d/l/sp...</span><br><span class="line">         -perm    -/+ /    755</span><br><span class="line">         -uid/user      201/yangsf</span><br><span class="line">         -gid/group    501/yangsf</span><br><span class="line">         -nouser/nogroup   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">为了用 ls -l 命令列出所匹配到的文件， 可以把 ls -l 命令放在find命令的 -exec 选项中：</span><br><span class="line">find . -type f -exec ls -l &#123;&#125; \;</span><br><span class="line">注： f 表示普通文件  exec 选项后面跟随着所要执行的命令， 然后是一对 &#123;&#125;， 一个空格和一个 \，最后是一个分号。</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
      <category term="Linux" scheme="http://ningmo.github.io/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://ningmo.github.io/tags/linux/"/>
    
      <category term="find" scheme="http://ningmo.github.io/tags/find/"/>
    
      <category term="grep" scheme="http://ningmo.github.io/tags/grep/"/>
    
      <category term="shell" scheme="http://ningmo.github.io/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>useful-linux-cmd</title>
    <link href="http://ningmo.github.io/2016/10/19/linux/useful-linux-cmd/"/>
    <id>http://ningmo.github.io/2016/10/19/linux/useful-linux-cmd/</id>
    <published>2016-10-19T15:05:27.000Z</published>
    <updated>2019-08-06T05:23:30.551Z</updated>
    
    <content type="html"><![CDATA[<h6 id="寻找"><a href="#寻找" class="headerlink" title="寻找"></a>寻找</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find .  -mtime -4（4天内）/4(4天前的那一天)/+4（5天前）</span><br><span class="line">locate fielname* (updatedb)</span><br></pre></td></tr></table></figure><h6 id="寻找定位"><a href="#寻找定位" class="headerlink" title="寻找定位"></a>寻找定位</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ./ -name &quot;*.c&quot; -exec grep -n &quot;string&quot; &#123;&#125; \;</span><br></pre></td></tr></table></figure><h6 id="寻找与替换"><a href="#寻找与替换" class="headerlink" title="寻找与替换"></a>寻找与替换</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -name &quot;*&quot; -exec sed -i &apos;s/str1/str2/g&apos; &#123;&#125;\;-print</span><br></pre></td></tr></table></figure><h6 id="ssh请求"><a href="#ssh请求" class="headerlink" title="ssh请求"></a>ssh请求</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -nNTf  -D 7000 root@IP</span><br><span class="line">ssh -qTfnN -D 7070 root@IP</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h6 id=&quot;寻找&quot;&gt;&lt;a href=&quot;#寻找&quot; class=&quot;headerlink&quot; title=&quot;寻找&quot;&gt;&lt;/a&gt;寻找&lt;/h6&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span 
      
    
    </summary>
    
      <category term="Linux" scheme="http://ningmo.github.io/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://ningmo.github.io/tags/linux/"/>
    
      <category term="find" scheme="http://ningmo.github.io/tags/find/"/>
    
      <category term="grep" scheme="http://ningmo.github.io/tags/grep/"/>
    
      <category term="ssh" scheme="http://ningmo.github.io/tags/ssh/"/>
    
  </entry>
  
  <entry>
    <title>自建docker lnmp镜像</title>
    <link href="http://ningmo.github.io/2016/06/05/devops/%E8%87%AA%E5%BB%BAdocker%20lnmp%E9%95%9C%E5%83%8F/"/>
    <id>http://ningmo.github.io/2016/06/05/devops/自建docker lnmp镜像/</id>
    <published>2016-06-05T03:59:28.000Z</published>
    <updated>2019-08-26T08:04:27.174Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><span class="line">docker pull centos ＃ 拉取镜像到本地</span><br><span class="line">docker run  -i -t -p 8000:80  --name=centosDev centos  </span><br><span class="line">cat /etc/redhat-release #查看系统版本</span><br><span class="line">&gt;CentOS Linux release 7.2.1511 (Core)</span><br><span class="line"></span><br><span class="line">＃ 开发环境安装  采取源码安装</span><br><span class="line">yum install kernel-devel  vim gcc cmake  -y</span><br><span class="line">mkdir /data/src -p</span><br><span class="line">cd /data/src/</span><br><span class="line">yum install wget -y</span><br><span class="line"></span><br><span class="line"># nginx   安装路径/usr/local/openresty/nginx/  运行用户www</span><br><span class="line">wget http://openresty.org/download/ngx_openresty-1.5.12.1.tar.gz</span><br><span class="line">tar zxvf  ngx_openresty-1.5.12.1.tar.gz</span><br><span class="line">cd ngx_openresty-1.5.12.1</span><br><span class="line">yum install readline-devel pcre-devel openssl-devel -y</span><br><span class="line">yum install gcc gcc-c++ make -y</span><br><span class="line">./configure --with-luajit -j2</span><br><span class="line">make -j2</span><br><span class="line">make install</span><br><span class="line">groupadd www</span><br><span class="line">useradd www -g www -M -s /sbin/nologin</span><br><span class="line">cd /usr/local/openresty/nginx/conf/</span><br><span class="line">mv nginx.conf nginx.conf.bak</span><br><span class="line">vi /usr/local/openresty/nginx/conf/nginx.conf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">user  www;</span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">#error_log  logs/error.log;</span><br><span class="line">#error_log  logs/error.log  notice;</span><br><span class="line">#error_log  logs/error.log  info;</span><br><span class="line"></span><br><span class="line">pid        logs/nginx.pid;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    use epoll;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    charset utf-8;</span><br><span class="line">    #log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</span><br><span class="line">    #                  &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</span><br><span class="line">    #                  &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</span><br><span class="line"></span><br><span class="line">    #access_log  logs/access.log  main;</span><br><span class="line">    access_log off;</span><br><span class="line">    server_names_hash_bucket_size 128;</span><br><span class="line">    client_header_buffer_size 128k;</span><br><span class="line">    large_client_header_buffers 4 128k;</span><br><span class="line">    client_max_body_size 300m;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    server_tokens off;</span><br><span class="line">    #tcp_nopush     on;</span><br><span class="line"></span><br><span class="line">    #keepalive_timeout  0;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    tcp_nodelay on;</span><br><span class="line"></span><br><span class="line">    fastcgi_connect_timeout 300;</span><br><span class="line">    fastcgi_send_timeout 300;</span><br><span class="line">    fastcgi_read_timeout 300;</span><br><span class="line">    fastcgi_buffer_size 64k;</span><br><span class="line">    fastcgi_buffers 4 64k;</span><br><span class="line">    fastcgi_busy_buffers_size 128k;</span><br><span class="line">    fastcgi_temp_file_write_size 128k;</span><br><span class="line"></span><br><span class="line">    #add_header Vary Accept-Encoding;</span><br><span class="line">    include vhosts/*.conf;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cd /usr/local/openresty/nginx/conf/</span><br><span class="line">mkdir vhosts</span><br><span class="line">vim vhosts/default.conf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen   80;</span><br><span class="line"></span><br><span class="line">        root /data/www;</span><br><span class="line">        index index.html index.htm;</span><br><span class="line"></span><br><span class="line">        server_name localhost;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">                try_files $uri $uri/ /index.html;</span><br><span class="line">                # include /etc/nginx/naxsi.rules</span><br><span class="line">        &#125;</span><br><span class="line">        location ~ .*\.php?$</span><br><span class="line">        &#123;</span><br><span class="line">            include fastcgi_params;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vim fastcgi_params</span><br><span class="line"></span><br><span class="line">if ($request_filename ~* (.*)\.php) &#123;</span><br><span class="line">    set $php_url $1;</span><br><span class="line">&#125;</span><br><span class="line">if (!-e $php_url.php) &#123;</span><br><span class="line">    return 403;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fastcgi_ignore_client_abort  on;</span><br><span class="line">fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">fastcgi_index  index.php;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># mysql</span><br><span class="line">cd /data/src/</span><br><span class="line">wget http://120.52.72.20/cdn.mysql.com/c3pr90ntc0td//Downloads/MySQL-5.7/mysql-5.7.13.tar.gz</span><br><span class="line">tar zxvf mysql-5.7.13.tar.gz</span><br><span class="line">cd mysql-5.7.13</span><br><span class="line">cmake  -DCMAKE_BUILD_TYPE:STRING=Release -DMYSQL_USER=mysql -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/data/mysql -DSYSCONFDIR=/etc -DWITH_MYISAM_STORAGE_ENGINE=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_MEMORY_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STORAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DWITH_FEDERATED_STORAGE_ENGINE=1 -DWITH_PARTITION_STORAGE_ENGINE=1 -DWITH_READLINE=1 -DMYSQL_UNIX_ADDR=/data/mysql/mysql.sock -DMYSQL_TCP_PORT=3306 -DENABLED_LOCAL_INFILE=1 -DWITH_PARTITION_STORAGE_ENGINE=1 -DEXTRA_CHARSETS=all -DWITH_SSL=yes -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DDOWNLOAD_BOOST=1 -DWITH_BOOST=/usr/local/boost</span><br><span class="line">make &amp;&amp; make install  ＃ 30分钟...</span><br><span class="line">cp support-files/mysql.server /etc/init.d/mysqld</span><br><span class="line">chmod 755 /etc/init.d/mysqld</span><br><span class="line">groupadd mysql</span><br><span class="line">useradd mysql -g mysql -M -s /sbin/nologin</span><br><span class="line">mkdir /data/mysql</span><br><span class="line">chown mysql:mysql /data/mysql</span><br><span class="line">cd /usr/local/mysql</span><br><span class="line">cp support-files/my-default.cnf /etc/my.cnf</span><br><span class="line">/usr/local/mysql/bin/mysqld --initialize –user=mysql</span><br><span class="line">/etc/init.d/mysqld start</span><br><span class="line"></span><br><span class="line"># 线上镜像 docker pull ningmo/centos_lnmp:v1</span><br><span class="line"></span><br><span class="line"># php</span><br><span class="line">wget http://cn2.php.net/get/php-7.0.7.tar.gz/from/this/mirror</span><br><span class="line">tar zxvf mirror </span><br><span class="line">cd php-7.0.7</span><br><span class="line">yum install libxml2-devel libcurl-devel libjpeg-devel libpng-devel freetype-devel openldap-devel libmcrypt-devel -y</span><br><span class="line">cp -frp /usr/lib64/libldap* /usr/lib</span><br><span class="line">ln -s /usr/local/mysql/lib/libmysqlclient.so.18 /usr/lib</span><br><span class="line">ldconfig</span><br><span class="line">./configure --enable-fpm --enable-cgi --prefix=/usr/local/php --with-mysql=/usr/local/mysql/ --with-iconv-dir=/usr/local --with-freetype-dir --with-jpeg-dir=/usr/lib --with-png-dir=/usr/lib --with-zlib --with-libxml-dir=/usr --enable-xml --disable-rpath --enable-bcmath --enable-shmop --enable-sysvsem --with-curl --enable-mbregex --enable-mbstring --with-gd --enable-gd-native-ttf --with-openssl --with-mhash --enable-pcntl --with-ldap --with-ldap-sasl --with-xmlrpc --enable-zip --enable-soap --with-mysqli=/usr/local/mysql/bin/mysql_config --with-pdo-mysql=/usr/local/mysql --enable-opcache=no</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">cp php.ini-production /usr/local/php/lib/php.ini -f</span><br><span class="line">cp sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm  -f</span><br><span class="line">chmod u+x /etc/init.d/php-fpm </span><br><span class="line">cd /usr/local/php/etc/</span><br><span class="line">cp php-fpm.conf.default php-fpm.conf   -f</span><br><span class="line">sed -i  &apos;s/nobody/www/g&apos;  /usr/local/php/etc/php-fpm.conf</span><br><span class="line">mkdir /data/www</span><br><span class="line">echo &quot;&lt;?php phpinfo();&quot; &gt;/data/www/index.php</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
      <category term="docker" scheme="http://ningmo.github.io/tags/docker/"/>
    
      <category term="linux" scheme="http://ningmo.github.io/tags/linux/"/>
    
      <category term="centos" scheme="http://ningmo.github.io/tags/centos/"/>
    
      <category term="lnmp" scheme="http://ningmo.github.io/tags/lnmp/"/>
    
  </entry>
  
  <entry>
    <title>终端使用proxy</title>
    <link href="http://ningmo.github.io/2016/05/16/linux/%E7%BB%88%E7%AB%AF%E4%BD%BF%E7%94%A8proxy/"/>
    <id>http://ningmo.github.io/2016/05/16/linux/终端使用proxy/</id>
    <published>2016-05-16T15:01:35.000Z</published>
    <updated>2019-08-26T06:09:54.316Z</updated>
    
    <content type="html"><![CDATA[<p>最简单的方法是 执行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export http_proxy=http://127.0.0.1:8087</span><br><span class="line">export https_proxy=http://127.0.0.1:8087</span><br></pre></td></tr></table></figure><p>(以上将http https协议代理到本地的8087端口 且只对当前终端窗口有效)<br>支持写法 <code>http_proxy=http://userName:password@proxyAddress:port</code></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;最简单的方法是 执行&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/sp
      
    
    </summary>
    
      <category term="linux" scheme="http://ningmo.github.io/categories/linux/"/>
    
    
  </entry>
  
  <entry>
    <title>angularjs ng-repeat checkbox</title>
    <link href="http://ningmo.github.io/2016/03/03/js/angularjs%20ng-repeat%20checkbox/"/>
    <id>http://ningmo.github.io/2016/03/03/js/angularjs ng-repeat checkbox/</id>
    <published>2016-03-03T02:34:28.000Z</published>
    <updated>2019-08-26T08:23:26.789Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;col-md-3&quot; ng-repeat=&quot;user in title.UserList&quot;&gt;</span><br><span class="line">    &lt;p class=&quot;form-control-static&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; ng-checked=&quot;user.Role&quot; ng-model=&quot;item.UserId[user.UserId]&quot; ng-true-value=&quot;&apos;add_&#123;&#123;user.UserId&#125;&#125;&apos;&quot; ng-false-value=&quot;&apos;del_&#123;&#123;user.UserId&#125;&#125;&apos;&quot;/&gt;&amp;nbsp;&#123;&#123;user.UserName&#125;&#125;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
      <category term="js" scheme="http://ningmo.github.io/categories/js/"/>
    
    
      <category term="angularjs" scheme="http://ningmo.github.io/tags/angularjs/"/>
    
  </entry>
  
  <entry>
    <title>mac brew</title>
    <link href="http://ningmo.github.io/2016/01/10/linux/mac%20brew/"/>
    <id>http://ningmo.github.io/2016/01/10/linux/mac brew/</id>
    <published>2016-01-10T08:11:32.000Z</published>
    <updated>2019-08-26T06:09:54.315Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span cla
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>mysql 设计与开发优化</title>
    <link href="http://ningmo.github.io/2015/12/25/mysql/mysql%20%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E4%BC%98%E5%8C%96/"/>
    <id>http://ningmo.github.io/2015/12/25/mysql/mysql 设计与开发优化/</id>
    <published>2015-12-25T07:54:40.000Z</published>
    <updated>2019-08-26T06:09:54.319Z</updated>
    
    <content type="html"><![CDATA[<p>使用InnoDB引擎 utf-8<br>表名字段名使用下划线间隔分割 字母小写</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;使用InnoDB引擎 utf-8&lt;br&gt;表名字段名使用下划线间隔分割 字母小写&lt;/p&gt;

      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>nohup/disown/setsid/screen</title>
    <link href="http://ningmo.github.io/2015/12/15/linux/linux%E7%9A%84nohup%20disown%20setsid%20screen/"/>
    <id>http://ningmo.github.io/2015/12/15/linux/linux的nohup disown setsid screen/</id>
    <published>2015-12-15T15:46:43.000Z</published>
    <updated>2019-08-26T06:09:54.314Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">nohup 可以将进程挂起 帐号退出时不受影响</span><br><span class="line">    nohup cp -r a b/ [&gt;/~/cp.log] &amp;  </span><br><span class="line">setsid 作用类似于nohup</span><br><span class="line">    swtsid cp -r a b/</span><br><span class="line">disown 使已经在运行的用户进程 不受用户退出限制</span><br><span class="line">    disown -h %1  # 1 为jobsID </span><br><span class="line">    如果已经在当前终端运行 </span><br><span class="line">        可以ctrl+z 挂起 </span><br><span class="line">        bg jobsID 放入后台</span><br><span class="line">        disown -h jobsID </span><br><span class="line"></span><br><span class="line">screen 适用于多条命令</span><br><span class="line"></span><br><span class="line">jobsID 可以通过jobs命令显示</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
      <category term="linux" scheme="http://ningmo.github.io/categories/linux/"/>
    
    
  </entry>
  
  <entry>
    <title>angularjs同步请求</title>
    <link href="http://ningmo.github.io/2015/12/15/js/angularjs%20%20%E5%90%8C%E6%AD%A5%E8%AF%B7%E6%B1%82/"/>
    <id>http://ningmo.github.io/2015/12/15/js/angularjs  同步请求/</id>
    <published>2015-12-15T06:15:32.000Z</published>
    <updated>2019-08-26T08:22:55.486Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">    .service(<span class="string">'Syncservice'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">fetch</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">           <span class="keyword">var</span> request;</span><br><span class="line">           <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span><br><span class="line">               request = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">           &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">window</span>.ActiveXObject) &#123;</span><br><span class="line">               request = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Your browser don't support XMLHttpRequest"</span>);</span><br><span class="line">           &#125;</span><br><span class="line">           request.open(<span class="string">'GET'</span>, url, <span class="literal">false</span>);</span><br><span class="line">           request.send(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">           <span class="keyword">if</span> (request.status === <span class="number">200</span>) &#123;</span><br><span class="line">               <span class="keyword">return</span> request.responseText;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> &#123;</span><br><span class="line">           fetch: fetch</span><br><span class="line">       &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>调用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var data = Syncservice.fetch(&apos;/api/data/&apos;+i);</span><br></pre></td></tr></table></figure><p>当然 以上同步请求会阻断当前页面 在console中警告<br>​<figure class="highlight plain"><figcaption><span>XMLHttpRequest on the main thread is deprecated because of its detrimental effects to the end user's experience. For more help, check</span><a href="http://xhr.spec.whatwg.org/" target="_blank" rel="noopener">```</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">意思就是在js的主进程中调用同步请求影响用户体验，可以使用worker进程进行同步请求 这样会有较好的用户体验 具体使用方法请自行google之</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l
      
    
    </summary>
    
      <category term="js" scheme="http://ningmo.github.io/categories/js/"/>
    
    
      <category term="angularjs" scheme="http://ningmo.github.io/tags/angularjs/"/>
    
      <category term="js" scheme="http://ningmo.github.io/tags/js/"/>
    
  </entry>
  
</feed>
